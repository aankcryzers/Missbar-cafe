<!-- index.html -->
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MISSBAR</title>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#ffffff">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="app.js" defer></script>
</head>
<body class="bg-slate-800 text-gray-900 font-sans">
  <div class="p-4" id="appRoot">
    <div id="kasirPage">
      <h2 class="text-xl font-bold mb-2">Kasir</h2>
      <div id="menuList" class="grid grid-cols-2 gap-4"></div>
      <div class="bg-white p-4 mt-4 rounded shadow">
        <h3 class="font-bold mb-2">Keranjang</h3>
        <ul id="cartList"></ul>
        <p class="mt-2 font-bold">Total: Rp <span id="cartTotal">0</span></p>
        <button onclick="checkout()" class="bg-green-600 w-full text-white py-2 rounded mt-2">Checkout</button>
      </div>
      <div class="mt-4">
        <h4 class="font-bold">Log Transaksi Sementara</h4>
        <button onclick="clearTempTrans()" class="bg-red-500 text-white px-4 py-1 rounded mb-2">Hapus Semua Log</button>
        <div id="tempTransList" class="space-y-2"></div>
      </div>
    </div>
    <div id="menuPage" class="hidden">
      <h2 class="text-xl font-bold mb-2">Kelola Menu</h2>
      <form id="menuForm" class="grid grid-cols-2 gap-2">
        <input id="menuName" class="p-2 border rounded" placeholder="Nama Menu">
        <input id="menuPriceHot" class="p-2 border rounded" type="number" placeholder="Harga Panas">
        <input id="menuPriceCold" class="p-2 border rounded" type="number" placeholder="Harga Es">
        <input id="menuImage" class="p-2 border rounded" type="file">
        <input type="hidden" id="editIndex">
        <button type="submit" class="col-span-2 bg-blue-600 text-white py-2 rounded">Simpan</button>
      </form>
      <div id="menuTable" class="grid grid-cols-2 gap-4 mt-4"></div>
    </div>
    <div id="rekapPage" class="hidden">
      <h2 class="text-xl font-bold mb-2">Rekap Transaksi</h2>
      <input type="date" id="filterDate" class="mb-4 p-2 border rounded" onchange="renderRekap()">
      <canvas id="salesChart" height="100"></canvas>
      <div id="rekapSummary" class="font-bold mt-4"></div>
      <div id="rekapList" class="mt-2"></div>
    </div>
  </div>

  <nav class="fixed bottom-0 left-0 w-full bg-white shadow flex justify-around md:hidden">
    <button onclick="showPage('kasir')" class="py-2 flex-1">Kasir</button>
    <button onclick="showPage('menu')" class="py-2 flex-1">Menu</button>
    <button onclick="showPage('rekap')" class="py-2 flex-1">Rekap</button>
  </nav>
</body>
</html>
